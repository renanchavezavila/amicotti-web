<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Amicotti — Salud y bienestar para tus mascotas</title>
  <meta name="description" content="Entrega rápida en Quito y Valles. Compra por WhatsApp. Productos oficiales Royal Canin y Purina."/>
  <link rel="icon" href="assets/logo.png"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .img-box{height:12rem}
    .img-box img{max-height:11rem;object-fit:contain}
    .chip{font-size:.7rem}
    /* Carrusel */
    .carousel-track{ display:flex; will-change: transform; }
    .carousel-slide{ min-width:100%; }
    .dot{ width:8px; height:8px; border-radius:9999px; }
  </style>
</head>
<body class="bg-white text-gray-900 selection:bg-rose-100 selection:text-rose-700">

<!-- Top strip -->
<div class="text-xs bg-slate-900 text-slate-200">
  <div class="max-w-6xl mx-auto flex items-center justify-between px-4 py-1">
    <span>Entrega en Quito y Valles</span>
    <span>Pagos: <strong class="text-white">transferencia bancaria</strong></span>
    <a id="waTop" class="underline hover:no-underline" target="_blank" rel="noopener">Atención WhatsApp</a>
  </div>
</div>

<!-- Header -->
<header class="sticky top-0 z-30 bg-white/70 backdrop-blur border-b">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
    <a href="index.html" class="flex items-center gap-2">
      <img src="assets/logo.png" class="w-9 h-9" alt="Amicotti"/>
      <span class="font-semibold tracking-tight">Amicotti</span>
    </a>
    <nav class="flex items-center gap-2">
      <!-- Enlaces unificados (mismo color/estilo) -->
      <a href="#promos" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Promos</a>
      <a href="catalogo.html" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Catálogo</a>
      <a href="#contacto" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Contacto</a>
    </nav>
  </div>
</header>

<!-- Hero -->
<section class="max-w-6xl mx-auto px-4 pt-10 pb-6 grid md:grid-cols-2 gap-8 items-center">
  <div>
    <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
      Salud y bienestar <span class="text-rose-600">para tus mascotas</span>
    </h1>
    <p class="mt-4 text-slate-600 text-lg">
      Entrega rápida en Quito y Valles. Compra por WhatsApp. Productos oficiales Royal Canin y Purina.
    </p>
    <div class="mt-6 flex items-center gap-3">
      <!-- Unificados también aquí para coherencia -->
      <a href="#promos" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Promos</a>
      <a href="catalogo.html" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Ver catálogo</a>
    </div>
  </div>
  <div class="rounded-2xl bg-slate-50 border grid place-items-center py-10">
    <div class="text-slate-400">Imagen referencial — Amicotti</div>
  </div>
</section>

<!-- Marcas -->
<section class="max-w-6xl mx-auto px-4">
  <h2 class="text-sm font-semibold text-slate-500 mb-3">Marcas que trabajamos</h2>
  <div class="flex items-center gap-4">
    <img src="assets/logo.png" class="h-10 w-auto" alt="Amicotti"/>
    <span class="chip px-2 py-1 rounded bg-slate-100 text-slate-600">Royal Canin</span>
    <span class="chip px-2 py-1 rounded bg-slate-100 text-slate-600">Purina</span>
  </div>
</section>

<!-- Promos (Carrusel) -->
<section id="promos" class="max-w-6xl mx-auto px-4 pt-10">
  <div class="flex items-baseline justify-between">
    <h2 class="text-xl font-semibold">Promos de la semana</h2>
    <a href="catalogo.html?marca=Royal+Canin" class="text-rose-600 hover:text-rose-700 text-sm">Ver todo →</a>
  </div>

  <!-- Contenedor del carrusel -->
  <div class="relative mt-4 overflow-hidden rounded-2xl border bg-white">
    <div id="promoTrack" class="carousel-track transition-transform duration-700 ease-in-out">
      <!-- Slides generados por JS -->
    </div>

    <!-- Controles -->
    <button id="prevBtn" aria-label="Anterior"
            class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-slate-700 border rounded-full w-9 h-9 grid place-items-center shadow">
      ‹
    </button>
    <button id="nextBtn" aria-label="Siguiente"
            class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-slate-700 border rounded-full w-9 h-9 grid place-items-center shadow">
      ›
    </button>

    <!-- Puntos -->
    <div id="dots" class="absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-2"></div>
  </div>
</section>

<!-- FAQs -->
<section class="max-w-6xl mx-auto px-4 pt-12">
  <h2 class="text-xl font-semibold mb-4">Preguntas frecuentes</h2>
  <details class="border rounded-lg mb-3">
    <summary class="px-4 py-3 cursor-pointer font-medium">¿Zonas y tiempos de entrega?</summary>
    <div class="px-4 pb-4 text-slate-600">Quito y Valles. Entrega el mismo día en stock disponible.</div>
  </details>
  <details class="border rounded-lg mb-3">
    <summary class="px-4 py-3 cursor-pointer font-medium">¿Métodos de pago?</summary>
    <div class="px-4 pb-4 text-slate-600">Transferencia bancaria o efectivo contra entrega.</div>
  </details>
  <details class="border rounded-lg">
    <summary class="px-4 py-3 cursor-pointer font-medium">¿Emiten factura?</summary>
    <div class="px-4 pb-4 text-slate-600">Sí. Solicítala al cerrar tu pedido.</div>
  </details>
</section>

<!-- Contacto -->
<section id="contacto" class="max-w-6xl mx-auto px-4 pt-12 pb-16 grid md:grid-cols-3 gap-8">
  <div>
    <h3 class="font-semibold mb-2">Amicotti</h3>
    <p class="text-slate-600">Quito — Ecuador.</p>
  </div>
  <div>
    <h3 class="font-semibold mb-2">Contacto</h3>
    <p class="text-slate-600">WhatsApp: <a id="waFooter" class="text-rose-600 underline" target="_blank" rel="noopener"></a></p>
    <p class="text-slate-600">Email: amicotti.uio@gmail.com</p>
  </div>
  <div>
    <h3 class="font-semibold mb-2">Redes</h3>
    <p class="text-slate-600"><a href="#" class="underline">Instagram</a> · <a href="#" class="underline">Facebook</a></p>
  </div>
</section>

<footer class="border-t text-center text-xs text-slate-500 p-6">© <span id="yy"></span> Amicotti.</footer>

<!-- WA flotante -->
<a id="waFloat" class="fixed bottom-4 right-4 md:hidden w-12 h-12 rounded-full bg-rose-600 text-white grid place-items-center shadow-xl" target="_blank" rel="noopener">WA</a>

<script>
  // ===== Config =====
  const WA_PHONE = "593995315716";

  // ===== Util =====
  function waUrl(){ return `https://wa.me/${WA_PHONE}`; }
  function waForProduct(name){
    const msg = `Hola Amicotti, quiero ${name}`;
    return `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(msg)}`;
  }
  function setWALinks(){
    const top = document.getElementById('waTop');
    const flo = document.getElementById('waFloat');
    const foot = document.getElementById('waFooter');
    if(top){ top.href = waUrl(); top.textContent = `Atención WhatsApp`; }
    if(flo){ flo.href = waUrl(); }
    if(foot){ foot.href = waUrl(); foot.textContent = `+${WA_PHONE}`; }
  }
  function priceTxt(t){ return t? `<strong>${t}</strong>`:''; }

  // Fallback que NO hace bucle
  function safeImg(img, fallback="assets/logo.png"){
    img.onerror = null; // evita loop
    img.src = fallback;
  }

  // ===== Promos (usar nombres que EXISTEN en assets/royal/) =====
  const PROMOS = [
    {
      brand: "Royal Canin",
      name: "Ageing 12+ Gato — 2 kg",
      species: "Gato • Seco",
      price: "",
      href: "catalogo.html?marca=Royal+Canin&buscar=ageing",
      image: { webp: "assets/royal/royal-ageing-12-gato.webp" }
    },
    {
      brand: "Royal Canin",
      name: "Bulldog Puppy — 3 kg",
      species: "Perro • Seco",
      price: "",
      href: "catalogo.html?marca=Royal+Canin&buscar=bulldog+puppy",
      image: { jpg: "assets/royal/royal-bulldog-puppy-perro.jpg" }
    },
    {
      brand: "Royal Canin",
      name: "Calm Feline — 2 kg",
      species: "Gato • Seco",
      price: "",
      href: "catalogo.html?marca=Royal+Canin&buscar=calm+feline",
      image: { png: "assets/royal/royal-calm-feline-gato.png" }
    },
    {
      brand: "Royal Canin",
      name: "Cardiac Canine — 2 kg",
      species: "Perro • Veterinario",
      price: "",
      href: "catalogo.html?marca=Royal+Canin&buscar=cardiac+canine",
      image: { png: "assets/royal/royal-cardiac-canine-perro.png" }
    }
  ];

  // ===== Carrusel =====
  let current = 0;
  let autoplayId = null;
  const AUTOPLAY_MS = 3500;

  function buildSlide(p){
    // sources
    let pictureHTML = '';
    if(p.image.webp) pictureHTML += `<source srcset="${p.image.webp}" type="image/webp">`;
    const fallbackSrc = p.image.jpg || p.image.png || p.image.webp || "assets/logo.png";
    pictureHTML += `<img src="${fallbackSrc}" alt="${p.name}" class="w-full h-full object-contain" onerror="safeImg(this)">`;

    return `
      <div class="carousel-slide">
        <div class="grid md:grid-cols-2 items-center">
          <div class="bg-white h-[18rem] sm:h-[22rem] md:h-[26rem] grid place-items-center p-4">
            <picture class="w-full h-full">${pictureHTML}</picture>
          </div>
          <div class="p-6 md:p-10">
            <span class="chip px-2 py-1 rounded bg-slate-100 text-slate-600">${p.species}</span>
            <h3 class="mt-3 text-2xl font-semibold leading-tight">${p.name}</h3>
            <p class="text-slate-500">${p.brand}</p>
            <div class="mt-5 flex flex-wrap gap-3">
              <a href="${p.href}" class="px-4 py-2 rounded-xl bg-rose-600 text-white hover:bg-rose-700">Ver en catálogo</a>
              <a href="${waForProduct(p.name)}" target="_blank" rel="noopener"
                 class="px-4 py-2 rounded-xl border hover:bg-slate-50">WhatsApp</a>
            </div>
          </div>
        </div>
      </div>
    `;
  }

  function renderCarousel(){
    const track = document.getElementById('promoTrack');
    if(!track) return;
    track.innerHTML = PROMOS.map(buildSlide).join('');

    // Dots
    const dots = document.getElementById('dots');
    dots.innerHTML = PROMOS.map((_,i)=>`
      <button class="dot ${i===0?'bg-rose-600':'bg-slate-300'}" data-dot="${i}" aria-label="Ir a slide ${i+1}"></button>
    `).join('');

    // Eventos dots
    dots.querySelectorAll('[data-dot]').forEach(btn=>{
      btn.addEventListener('click', ()=> goTo(+btn.dataset.dot, true));
    });

    // Hover pausa
    const container = track.parentElement;
    container.addEventListener('mouseenter', pauseAutoplay);
    container.addEventListener('mouseleave', startAutoplay);

    // Botones
    document.getElementById('prevBtn').addEventListener('click', ()=>prev(true));
    document.getElementById('nextBtn').addEventListener('click', ()=>next(true));

    startAutoplay();
    updateUI();
  }

  function updateUI(){
    const track = document.getElementById('promoTrack');
    track.style.transform = `translateX(-${current*100}%)`;
    const dots = document.getElementById('dots').children;
    [...dots].forEach((d,i)=> d.className = `dot ${i===current?'bg-rose-600':'bg-slate-300'}`);
  }

  function goTo(i, manual=false){
    current = (i + PROMOS.length) % PROMOS.length;
    updateUI();
    if(manual){ restartAutoplay(); }
  }
  function next(manual=false){ goTo(current+1, manual); }
  function prev(manual=false){ goTo(current-1, manual); }

  function startAutoplay(){
    if(autoplayId) return;
    autoplayId = setInterval(next, AUTOPLAY_MS);
  }
  function pauseAutoplay(){
    if(autoplayId){ clearInterval(autoplayId); autoplayId = null; }
  }
  function restartAutoplay(){
    pauseAutoplay();
    startAutoplay();
  }

  // ===== Init =====
  (function(){
    setWALinks();
    document.getElementById('yy').textContent = new Date().getFullYear();
    renderCarousel();
  })();
</script>
</body>
</html>
